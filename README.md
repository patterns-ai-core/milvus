# Milvus

<p>
    <img alt='Milvus logo' src='data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM1IiB2aWV3Qm94PSIwIDAgMTQ4IDM1IiB3aWR0aD0iMTQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIGZpbGw9IiM0ZmM0ZjkiPjxwYXRoIGQ9Im0zNS4yNjg4IDUuNDgyMTljLTYuNjE4OS02LjY0MjkyLTE3LjM1MTktNi42NDI5Mi0yMy45NzA4IDBsLTEwLjgxODM2OSAxMC44NTczMWMtLjYzOTUwOC42NDI2LS42Mzk1MDggMS42NzcxIDAgMi4zMTk2bDEwLjgxODM2OSAxMC44NTc0YzYuNjE4OSA2LjY0MjkgMTcuMzUxOSA2LjY0MjkgMjMuOTcwOC4wMTA5IDYuNjI5Ni02LjYzMjEgNi42Mjk2LTE3LjQwMjMgMC0yNC4wNDUyMXptLTIuNTU4IDIwLjg1NDQxYy00Ljg2MDMgNC44Nzg3LTEyLjc0NzUgNC44Nzg3LTE3LjYwNzggMGwtNy45NjE4My03Ljk4MjRjLS40Njg5OC0uNDY4My0uNDY4OTgtMS4yMzA2IDAtMS43MDk3bDcuOTUxMjMtNy45NzE1M2M0Ljg2MDItNC44Nzg3NCAxMi43NDc1LTQuODc4NzQgMTcuNjA3NyAwIDQuODcxIDQuODc4NzMgNC44NzEgMTIuNzg0OTMuMDEwNyAxNy42NjM2M3oiLz48cGF0aCBkPSJtNDkuNDQ0NCAxNi4zNTAzLTQuNzY0My00Ljg2NzhjLS4yODc4LS4yOTQxLS43Njc1LS4wMjE4LS42NzE1LjM4MTEuODIwNyAzLjcxMzUuODIwNyA3LjU5MDQgMCAxMS4zMDM5LS4wODUzLjQwMjkuMzk0My42NjQyLjY3MTUuMzgxMWw0Ljc2NDMtNC44Njc4Yy42Mjg4LS42NTM0LjYyODgtMS42ODggMC0yLjMzMDV6Ii8+PHBhdGggZD0ibTIzLjk1OTggMjYuMDQyNmM0LjYwOTIgMCA4LjM0NTYtMy44MTc3IDguMzQ1Ni04LjUyNjkgMC00LjcwOTMtMy43MzY0LTguNTI2OTMtOC4zNDU2LTguNTI2OTMtNC42MDkxIDAtOC4zNDU1IDMuODE3NjMtOC4zNDU1IDguNTI2OTMgMCA0LjcwOTIgMy43MzY0IDguNTI2OSA4LjM0NTUgOC41MjY5eiIvPjxwYXRoIGQ9Im01OS40MjI5IDE2LjAxMjRjMC0uOTA2OS4xNTMtMS42ODg3LjQ1OTEtMi4zNDU0LjMwNi0uNjU2OC43MzQ0LTEuMjE5NiAxLjI4NTQtMS42ODg3LjU1MDktLjQ2OTEgMS4xOTM2LS44MTMxIDEuOTI4Mi0xLjAzMnMxLjU2MTEtLjM0NCAyLjQxODEtLjM0NGMxLjA3MTIgMCAyLjAyLjE4NzYgMi44NzcuNTYyOS44MjY0LjM3NTMgMS41MzAzLjg3NTYgMi4wNTA2IDEuNTMyMy41MjAzLS42NTY3IDEuMTkzOC0xLjE1NyAyLjAyMDItMS41MzIzLjgyNjMtLjM3NTMgMS43NzUxLS41NjI5IDIuODQ2My0uNTYyOS44NTcxIDAgMS42NTI4LjEyNTEgMi4zODc0LjM0NC43MzQ1LjIxODkgMS4zNzczLjU2MjkgMS45MjgyIDEuMDMycy45Nzk0IDEuMDMxOSAxLjI4NTUgMS42ODg3Yy4zMDYxLjY1NjcuNDU5MiAxLjQzODUuNDU5MiAyLjM0NTR2OC45NDM4aC00LjMxNTd2LTcuNjkzYzAtLjkzODEtLjE4MzUtMS41OTQ4LS41NTA4LTIuMDAxNC0uMzY3My0uNDA2NS0uODg3Ni0uNTk0MS0xLjU5MTYtLjU5NDEtLjcwMzkgMC0xLjI1NS4yNTAxLTEuNzE0MS43MTkyLS40Mjg1LjQ2OTEtLjY0MjcgMS4yMTk2LS42NDI3IDIuMjgyOXY3LjMxNzZoLTQuMzE1NXYtNy4zMTc2YzAtMS4wMzItLjIxNDMtMS43ODI1LS42NDI4LTIuMjgyOS0uNDI4NS0uNDY5MS0uOTc5NS0uNzE5Mi0xLjY4MzUtLjcxOTItLjY3MzMgMC0xLjIyNDEuMTg3Ni0xLjU5MTQuNTk0MS0uMzk4LjQwNjYtLjU4MTcgMS4wNjMzLS41ODE3IDIuMDAxNHY3LjY5M2gtNC4zMTU0eiIvPjxwYXRoIGQ9Im04NC45NDkyIDcuMjU2MTVjMC0uNjg3OTkuMjE0My0xLjI4MjE2LjY3MzQtMS43NTEyNHMxLjAxLS43MTkyNyAxLjcxNC0uNzE5MjdjLjY3MzMgMCAxLjI1NDkuMjUwMTkgMS43MTQuNzE5MjdzLjcwMzkgMS4wNjMyNS43MDM5IDEuNzUxMjRjMCAuNjg3OTctLjI0NDggMS4yODIxNS0uNzAzOSAxLjc1MTIzcy0xLjA0MDcuNjg3OTgtMS43MTQuNjg3OThjLS42NzM0IDAtMS4yNTQ5LS4yMTg5LTEuNzE0LS42ODc5OC0uNDI4NS0uNTAwMzYtLjY3MzQtMS4wNjMyNi0uNjczNC0xLjc1MTIzem0uMjQ0OSA1LjY5MTQ1YzAtLjcxOTIuMjE0Mi0xLjIxOTYuNjEyMS0xLjUwMS4zOTc5LS4yODE1Ljk0ODgtLjQzNzggMS42MjIyLS40Mzc4LjQ4OTcgMCAuOTE4Mi4wNjI1IDEuMzE2MS4xODc2cy42NDI3LjE4NzcuNzY1Mi4yMTg5djEzLjU3MjFoLTQuMzE1NnoiLz48cGF0aCBkPSJtOTMuNDg4MyA2LjcyNDUyYzAtLjcxOTI2LjIxNDItMS4yMTk2MS42MTIxLTEuNTAxMDZzLjk0ODgtLjQzNzgyIDEuNjIyMi0uNDM3ODJjLjQ4OTcgMCAuOTE4Mi4wNjI1NSAxLjMxNjEuMTg3NjRzLjY0MjcuMTg3NjMuNzY1Mi4yMTg5djE5Ljc2MzkyaC00LjMxNTZ6Ii8+PHBhdGggZD0ibTEwNS43IDI0Ljk1NjFjLS41NTEtMS4wMDA3LTEuMTAyLTIuMDMyNy0xLjYyMi0zLjA5NTktLjUyLTEuMDYzMy0xLjAxLTIuMDY0LTEuNDM4LTIuOTcwOS0uNDI5LS45MDY4LS43OTYtMS43MTk5LTEuMDcyLTIuMzQ1NC0uMjc1LS42NTY3LS40NTktMS4wNjMyLS41NTEtMS4yNTA4LS4xNTMtLjM3NTMtLjMwNi0uNzgxOC0uNDU5LTEuMjE5Ny0uMTgzLS40NjktLjI0NS0uODc1Ni0uMjQ1LTEuMjE5NiAwLS41MDAzLjE4NC0uOTM4MS41NTEtMS4zMTM0LjM2OC0uMzQ0Ljg4OC0uNTMxNiAxLjYyMy0uNTMxNi41ODEgMCAxLjA0LjA2MjUgMS40MDguMTg3Ni4zNjcuMTI1MS41NS4xODc3LjYxMi4yMTg5LjMwNi45MDY5LjYxMiAxLjgxMzguOTc5IDIuNzIwNy4zMzcuOTA2OS42NzMgMS43NTEyLjk3OSAyLjUzMy4zMDcuNzgxOC41ODIgMS40Njk4Ljg1NyAyLjA2NC4yNDUuNTk0Mi40MjkgMS4wMDA3LjU1MSAxLjI1MDkuMTIzLS4yNTAyLjI3Ni0uNjU2OC41MjEtMS4yMTk2LjI0NS0uNTYyOS40ODktMS4yMTk3Ljc2NS0xLjkwNzYuMjc1LS42ODguNTUxLTEuNDA3My44MjYtMi4wOTUzLjI3Ni0uNjg3OS41MjEtMS4zMTM0LjcwNC0xLjc4MjUuMTIzLS4yODE0LjIxNS0uNTMxNi4zNjgtLjc4MTguMTIyLS4yNTAxLjMwNi0uNDM3OC40ODktLjYyNTQuMTg0LS4xODc2LjQyOS0uMzEyNy42NzQtLjQwNjYuMjc1LS4wOTM4LjYxMi0uMTI1Ljk3OS0uMTI1cy42NzMuMDMxMi45NzkuMTI1Yy4yNzYuMDYyNi41NTEuMTU2NC43NjYuMjUwMi4yMTQuMDkzOC4zOTguMTg3Ny41Mi4yNTAyLjEyMi4wOTM4LjIxNC4xMjUxLjI0NS4xNTY0LS4wNjEuMzQzOS0uMjQ1LjgxMy0uNTIgMS41MDEtLjI3Ni42NTY3LS41ODIgMS40Mzg1LS45NDkgMi4yODI5LS4zNjguODQ0My0uNzY1IDEuNzUxMi0xLjE5NCAyLjY4OTQtLjQyOC45MzgxLS44NTcgMS44NDUtMS4yNTUgMi43MjA2LS4zOTguODc1Ny0uNzk2IDEuNjU3NS0xLjE2MyAyLjM3NjctLjM2Ny42ODgtLjY0MyAxLjI1MDktLjgyNiAxLjYyNjJoLTQuMTAyeiIvPjxwYXRoIGQ9Im0xMjIuMjU5IDE4LjQ1MTVjMCAxLjkwNzYuODI2IDIuODQ1OCAyLjUxIDIuODQ1OCAxLjY4MyAwIDIuNTEtLjkzODIgMi41MS0yLjg0NTh2LTUuNTAzOGMwLS43MTkzLjIxNC0xLjIxOTcuNjEyLTEuNTAxMS4zOTgtLjI4MTUuOTQ4LS40Mzc4IDEuNjIyLS40Mzc4LjQ5IDAgLjkxOC4wNjI1IDEuMzE2LjE4NzZzLjY0My4xODc3Ljc2NS4yMTg5djcuODQ5M2MwIDEuMDMyLS4xODQgMS45MDc2LS41MiAyLjY1ODEtLjMzNy43NTA2LS44MjcgMS4zNzYtMS40MzkgMS44NzYzLS42MTIuNTAwNC0xLjMxNi44NzU3LTIuMTczIDEuMTI1OC0uODI2LjI1MDItMS43NDQuMzc1My0yLjY5My4zNzUzLS45OCAwLTEuODY3LS4xMjUxLTIuNjk0LS4zNzUzLS44MjYtLjI1MDEtMS41NjEtLjYyNTQtMi4xNzMtMS4xMjU4LS42MTItLjUwMDMtMS4wNzEtMS4xMjU3LTEuNDM4LTEuODc2My0uMzM3LS43NTA1LS41MjEtMS42NTc0LS41MjEtMi42NTgxdi02LjMxNjljMC0uNzE5My4yMTUtMS4yMTk3LjYxMy0xLjUwMTEuMzk3LS4yODE1Ljk0OC0uNDM3OCAxLjYyMi0uNDM3OC40ODkgMCAuOTE4LjA2MjUgMS4zMTYuMTg3NnMuNjQzLjE4NzcuNzY1LjIxODl6Ii8+PHBhdGggZD0ibTEzNS45NzEgMjAuNzAzMmMuMTUzLjEyNS4zNjcuMjUwMS43MDQuNDA2NXMuNzM1LjMxMjcgMS4xOTQuNDM3OC45NzkuMjUwMiAxLjU2MS4zNDRjLjU4MS4wOTM4IDEuMTkzLjE1NjQgMS44MzYuMTU2NC43MzUgMCAxLjI4Ni0uMDYyNiAxLjY1My0uMjE4OS4zNjctLjEyNTEuNTUxLS4zNzUzLjU1MS0uNzE5MyAwLS4zNzUzLS4xNTMtLjYyNTQtLjQ1OS0uNzUwNXMtLjc5Ni0uMjUwMi0xLjQ2OS0uMzQ0bC0xLjQwOC0uMTU2NGMtLjcwNC0uMDkzOC0xLjM3OC0uMjE4OS0yLjAyLS40MDY1LS42NDMtLjE4NzYtMS4yMjUtLjQzNzgtMS43MTQtLjc4MTgtLjQ5LS4zNDQtLjg4OC0uNzgxOC0xLjE2My0xLjMxMzQtLjI3Ni0uNTMxNy0uNDI5LTEuMTg4NC0uNDI5LTIuMDAxNSAwLS42ODc5LjEyMi0xLjMxMzQuMzY3LTEuODc2M3MuNjEyLTEuMDYzMiAxLjEzMy0xLjUwMWMuNTItLjQzNzggMS4xOTMtLjc4MTggMS45ODktMS4wMDA3Ljc5Ni0uMjUwMiAxLjc3NS0uMzc1MyAyLjg3Ny0uMzc1MyAxLjEzMyAwIDIuMDgyLjA2MjUgMi45MDguMjE4OXMxLjUuMzc1MyAyLjExMi42ODhjLjMzNy4xODc2LjYxMi40MDY1LjgyNi42NTY3LjIxNS4yNTAyLjMwNi41OTQyLjMwNi45Njk0IDAgLjI4MTUtLjA2MS41NjI5LS4xODMuNzgxOC0uMTIzLjIxODktLjI0NS40Mzc4LS4zOTguNTk0MnMtLjMwNi4yODE1LS40MjkuMzc1M2MtLjEyMi4wOTM4LS4yMTQuMTU2My0uMjQ1LjE1NjMtLjA2MS0uMDYyNS0uMjE0LS4xNTYzLS40MjgtLjMxMjctLjI0NS0uMTU2NC0uNTUxLS4yODE0LS45NzktLjQzNzgtLjM5OC0uMTI1MS0uODg4LS4yNTAyLTEuNDM5LS4zNzUzcy0xLjE5NC0uMTU2My0xLjkyOC0uMTU2M2MtLjc5NiAwLTEuMzc4LjA5MzgtMS42ODQuMjgxNC0uMzA2LjE4NzctLjQ1OS40Mzc4LS40NTkuNzUwNSAwIC4zMTI4LjE1My41MzE3LjQyOS42NTY4LjI3NS4xMjUuNzA0LjI1MDEgMS4yODUuMzQ0bDIuNDQ5LjM0MzljLjYxMi4wOTM5IDEuMTkzLjIxOSAxLjc0NC40MDY2czEuMDcyLjQzNzggMS41Ljc1MDVjLjQyOS4zNDQuNzk2Ljc1MDUgMS4wNDEgMS4yNTA5LjI0NS41MDAzLjM5OCAxLjEyNTguMzk4IDEuODc2MyAwIDEuNTMyMy0uNTgyIDIuNzIwNy0xLjcxNCAzLjU5NjMtMS4xMzMuODQ0My0yLjcyNCAxLjI4MjItNC43NDQgMS4yODIyLTEuMDQxIDAtMS45OS0uMDYyNi0yLjgxNi0uMjE5LS44MjctLjE1NjMtMS41LS4zMTI3LTIuMTEyLS41MDAzLS41ODItLjE4NzYtMS4wNzEtLjQwNjUtMS40MzktLjU5NDItLjM2Ny0uMjE4OS0uNjEyLS4zNzUyLS43NjUtLjQ2OTF6Ii8+PC9nPjwvc3ZnPg==' height='50' />
    +&nbsp;&nbsp;
    <img alt='Ruby logo' src='https://user-images.githubusercontent.com/541665/230231593-43861278-4550-421d-a543-fd3553aac4f6.png' height='40' />
</p>

Ruby wrapper for the Milvus vector search database API

![Tests status](https://github.com/andreibondarev/milvus/actions/workflows/ci.yml/badge.svg) [![Gem Version](https://badge.fury.io/rb/milvus.svg)](https://badge.fury.io/rb/milvus)

## Installation

Install the gem and add to the application's Gemfile by executing:

    $ bundle add milvus

If bundler is not being used to manage dependencies, install the gem by executing:

    $ gem install milvus

## Usage

### Instantiating API client

```ruby
require 'milvus'

client = Milvus::Client.new(
    url: 'http://localhost:9091'
)
```

### Using the Collections endpoints

```ruby
# Creating a new collection schema
client.collections.create(
  collection_name: "recipes",
  description: "Collection of recipes",
  auto_id: true,
  fields: [
    {
      name: "recipe_id",
      data_type: 5,
      description: "Primary key",
      is_primary_key: true
    }
  ]
)
```
```ruby
# Get the collection info
client.collections.get(collection_name: 'recipes')
```

### Health
```ruby
# Live determines whether the application is alive. It can be used for Kubernetes liveness probe.
client.live?
```

## Development

After checking out the repo, run `bin/setup` to install dependencies. Then, run `rake spec` to run the tests. You can also run `bin/console` for an interactive prompt that will allow you to experiment.

To install this gem onto your local machine, run `bundle exec rake install`. To release a new version, update the version number in `version.rb`, and then run `bundle exec rake release`, which will create a git tag for the version, push git commits and the created tag, and push the `.gem` file to [rubygems.org](https://rubygems.org).

## Contributing

Bug reports and pull requests are welcome on GitHub at https://github.com/andreibondarev/milvus.

## License

The gem is available as open source under the terms of the [MIT License](https://opensource.org/licenses/MIT).
